"use strict";(self["webpackChunkvue_oldbook"]=self["webpackChunkvue_oldbook"]||[]).push([[929],{3448:function(t,e,r){r.d(e,{Z:function(){return l}});var a=function(){var t=this,e=t._self._c;return e("header",[e("div",{staticClass:"search-return",on:{click:t.goBack}},[e("i",{staticClass:"iconfont icon-fanhui"})]),e("div",{staticClass:"search-main"},[e("i",{staticClass:"iconfont icon-fangdajing"}),e("form",{attrs:{action:"",onsubmit:"return false"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearchList.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],ref:"myInput",attrs:{type:"search",placeholder:"搜索您喜欢的产品...",autofocus:""},domProps:{value:t.searchVal},on:{input:function(e){e.target.composing||(t.searchVal=e.target.value)}}})])]),e("div",{staticClass:"serach-btn",on:{click:t.goSearchList}},[t._v("搜索")])])},s=[],i=(r(541),r(7658),{data(){return{searchVal:this.$route.query.key||"",searchArr:[]}},mounted(){window.addEventListener("touchmove",this.myTouchMove,!0)},methods:{myTouchMove(){this.$refs.myInput.blur()},goBack(){this.$router.back()},goSearchList(){if(!this.searchVal)return;localStorage.getItem("searchList")?this.searchArr=JSON.parse(localStorage.getItem("searchList")):localStorage.setItem("searchList","[]"),this.searchArr.unshift(this.searchVal);let t=new Set(this.searchArr);localStorage.setItem("searchList",JSON.stringify(Array.from(t))),this.searchVal!==this.$route.query.key&&this.$router.push({name:"list",query:{key:this.searchVal}})}}}),o=i,n=r(1001),c=(0,n.Z)(o,a,s,!1,null,"55b82fe8",null),l=c.exports},7929:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-list"},[e("div",{staticClass:"headers"},[e("Header"),t._m(0)],1),e("section",[t.goodsList.length?e("ul",t._l(t.goodsList,(function(r,a){return e("li",{key:a},[e("img",{attrs:{src:r.imgUrl,alt:""}}),e("h3",[t._v(t._s(r.name))]),e("div",{staticClass:"price"},[e("div",[e("span",[t._v("￥")]),e("b",[t._v(t._s(r.price))])]),e("div",[t._v("立即购买")])])])})),0):e("h1",[t._v("暂无数据")])]),e("Tabbar")],1)},s=[function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("div",[t._v("综合")])]),e("li",[e("div",[t._v("价格")]),e("div",{staticClass:"search-filter"},[e("i",{staticClass:"iconfont icon-arrow_up_fat"}),e("i",{staticClass:"iconfont icon-arrow_down_fat"})])]),e("li",[e("div",[t._v("销售")]),e("div",{staticClass:"search-filter"},[e("i",{staticClass:"iconfont icon-arrow_up_fat"}),e("i",{staticClass:"iconfont icon-arrow_down_fat"})])])])}],i=r(3448),o=r(527),n=r(9324),c={data(){return{goodsList:[]}},components:{Tabbar:o.Z,Header:i.Z},created(){this.getData()},methods:{getData(){n.Z.$axios({url:"/api/goods/shopList",params:{searchName:this.$route.query.key}}).then((t=>{this.goodsList=t,console.log(t)}))}},watch:{$route(){this.getData()}}},l=c,u=r(1001),h=(0,u.Z)(l,a,s,!1,null,"059e684e",null),f=h.exports},5117:function(t,e,r){var a=r(6330),s=TypeError;t.exports=function(t,e){if(!delete t[e])throw s("Cannot delete property "+a(e)+" of "+a(t))}},541:function(t,e,r){var a=r(2109),s=r(7908),i=r(6244),o=r(3658),n=r(5117),c=r(7207),l=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:l||u},{unshift:function(t){var e=s(this),r=i(e),a=arguments.length;if(a){c(r+a);var l=r;while(l--){var u=l+a;l in e?e[u]=e[l]:n(e,u)}for(var h=0;h<a;h++)e[h]=arguments[h]}return o(e,r+a)}})}}]);
//# sourceMappingURL=929.f3335e87.js.map