(self["webpackChunkvue_oldbook"]=self["webpackChunkvue_oldbook"]||[]).push([[655],{9877:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("header",[e._m(0),t("div",[e._t("default",(function(){return[t("span",[e._v("登录")])]}))],2),e._m(1)])},i=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("i",{staticClass:"iconfont icon-fanhui"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("i",{staticClass:"iconfont icon-fangdajing"})])}],n=s(5933),u=s.n(n),o=u(),a=s(1001),l=(0,a.Z)(o,r,i,!1,null,null,null),c=l.exports},8655:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login container"},[t("Header"),t("section",[t("div",{staticClass:"login-tel"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:e.userTel},on:{input:function(t){t.target.composing||(e.userTel=t.target.value)}}})]),t("div",{staticClass:"login-tel"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPwd,expression:"userPwd"}],attrs:{type:"text",placeholder:"请输入密码"},domProps:{value:e.userPwd},on:{input:function(t){t.target.composing||(e.userPwd=t.target.value)}}})]),t("div",{staticClass:"login-btn",on:{click:e.login}},[e._v("登 录")]),t("div",{staticClass:"tab"},[t("span",{on:{click:e.goLogin}},[e._v("短信登录")]),t("span",{on:{click:e.goRecovery}},[e._v("找回密码")]),t("span",{on:{click:e.goRegister}},[e._v("快速注册")])])]),t("Tabbar")],1)},i=[],n=(s(7658),s(527)),u=s(9877),o=s(4843),a=s(9324),l=s(629),c={data(){return{userTel:"",userPwd:"",rules:{userTel:{rule:/^1[23456789]\d{9}$/,msg:"手机号不能为空，并且是11位数字"},userPwd:{rule:/^\w{6,12}$/,msg:"密码不能为空，并且要求6,12位"}}}},components:{Header:u["default"],Tabbar:n.Z},methods:{...(0,l.OI)(["userLogin"]),login(){this.validate("userTel")&&this.validate("userPwd")&&a.Z.$axios({url:"/api/login",method:"POST",data:{userTel:this.userTel,userPwd:this.userPwd}}).then((e=>{(0,o.Toast)(e.msg),e.success&&(this.userLogin(e.data),this.$router.push("/my"))}))},goRegister(){this.$router.push("/register")},goRecovery(){this.$router.push("/recovery")},goLogin(){this.$router.push("/login")},validate(e){let t=!0;return this.rules[e].rule.test(this[e])?t:((0,o.Toast)(this.rules[e].msg),t=!1,!1)}}},d=c,v=s(1001),g=(0,v.Z)(d,r,i,!1,null,"0475a65d",null),p=g.exports},5933:function(){}}]);
//# sourceMappingURL=655.784c6b51.js.map