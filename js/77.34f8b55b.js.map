{"version":3,"file":"js/77.34f8b55b.js","mappings":"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","sources":["webpack://vue-oldbook/./src/views/login/Header.vue","webpack://vue-oldbook/./src/views/login/Header.vue?0078","webpack://vue-oldbook/./src/views/login/Header.vue?105e","webpack://vue-oldbook/./src/views/login/Login.vue","webpack://vue-oldbook/src/views/login/Login.vue","webpack://vue-oldbook/./src/views/login/Login.vue?8cb8","webpack://vue-oldbook/./src/views/login/Login.vue?95ed"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('header',[_vm._m(0),_c('div',[_vm._t(\"default\",function(){return [_c('span',[_vm._v(\"登录\")])]})],2),_vm._m(1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('i',{staticClass:\"iconfont icon-fanhui\"})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('i',{staticClass:\"iconfont icon-fangdajing\"})])\n}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=a31f4914&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=a31f4914&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login container\"},[_c('Header'),_c('section',[_c('div',{staticClass:\"login-tel\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userTel),expression:\"userTel\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.userTel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userTel=$event.target.value}}})]),_c('div',{staticClass:\"login-code\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userCode),expression:\"userCode\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入短信验证码\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.userCode)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userCode=$event.target.value}}}),_c('button',{attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.sendCode}},[_vm._v(_vm._s(_vm.codeMsg))])]),_c('div',{staticClass:\"login-btn\",on:{\"click\":_vm.login}},[_vm._v(\"登 录\")]),_c('div',{staticClass:\"tab\"},[_c('span',{on:{\"click\":_vm.goUserLogin}},[_vm._v(\"密码登录\")]),_c('span',{on:{\"click\":_vm.goRegister}},[_vm._v(\"快速注册\")])])]),_c('Tabbar')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class='login container'>\n\t\t<Header></Header>\n\t\t<section>\n\t\t\t<div class='login-tel'>\n\t\t\t\t<input type=\"text\" v-model='userTel' placeholder=\"请输入手机号\" pattern=\"[0-9]*\">\n\t\t\t</div>\n\t\t\t<div class='login-code'>\n\t\t\t\t<input type=\"text\" placeholder=\"请输入短信验证码\" pattern=\"[0-9]*\" v-model='userCode'>\n\t\t\t\t<button \n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t@click='sendCode'\n\t\t\t\t>{{codeMsg}}</button>\n\t\t\t</div>\n\t\t\t<div class='login-btn' @click='login'>登 录</div>\n\t\t\t<div class='tab'>\n\t\t\t\t<span @click='goUserLogin'>密码登录</span>\n\t\t\t\t<span @click='goRegister'>快速注册</span>\n\t\t\t</div>\n\t\t</section>\n\t\t<Tabbar></Tabbar>\n\t</div>\n</template>\n\n<script>\nimport Tabbar from '@/components/common/Tabbar.vue'\nimport Header from './Header'\nimport { Toast } from 'mint-ui';\nimport http from '@/common/api/request.js'\nimport {mapMutations} from 'vuex'\nexport default{\n\tdata () {\n\t\treturn {\n\t\t\tdisabled:false,\n\t\t\tuserTel:'',\n\t\t\tuserCode:'',\n\t\t\t//验证规则\n\t\t\trules:{//手机号验证\n\t\t\t\tuserTel:{\n\t\t\t\t\trule:/^1[23456789]\\d{9}$/,\n\t\t\t\t\tmsg:'手机号不能为空，并且是11位数字'\n\t\t\t\t}\n\t\t\t},\n\t\t\tcodeNum:6,\n\t\t\tcodeMsg:'获取短信验证码',\n\t\t\tcode:''\n\t\t}\n\t},\n\tcomponents:{\n\t\tHeader,\n\t\tTabbar\n\t},\n\tmethods:{\n\t\t...mapMutations(['USER_LOGIN']),\n\t\t//点击获取短信验证码按钮\n\t\tsendCode(){\n\t\t\t//验证\n\t\t\tif( !this.validate('userTel') ) return;\n\t\t\t\n\t\t\t//请求短信验证码接口\n\t\t\thttp.$axios({\n\t\t\t\turl:'/api/code',\n\t\t\t\tmethod:'POST',\n\t\t\t\tdata:{\n\t\t\t\t\tphone:this.userTel\n\t\t\t\t}\n\t\t\t}).then(res=>{\n\t\t\t\tif( res.success ){\n\t\t\t\t\tthis.code = res.data;\n\t\t\t\t}\n\t\t\t})\n\t\t\t//禁用按钮\n\t\t\tthis.disabled = true;\n\t\t\t//倒计时\n\t\t\tlet timer = setInterval(()=>{\n\t\t\t\t--this.codeNum;\n\t\t\t\tthis.codeMsg = `重新发送 ${this.codeNum}`;\n\t\t\t},1000)\n\t\t\t//判断什么时候停止定时器\n\t\t\tsetTimeout(()=>{\n\t\t\t\tclearInterval( timer );\n\t\t\t\tthis.codeNum = 6;\n\t\t\t\tthis.disabled = false;\n\t\t\t\tthis.codeMsg = '获取短信验证码';\n\t\t\t},6000)\n\t\t\t\n\t\t},\n\t\t//注册\n\t\tgoRegister(){\n\t\t\tthis.$router.push('/register');\n\t\t},\n\t\t//密码登录\n\t\tgoUserLogin(){\n\t\t\tthis.$router.push('/userLogin');\n\t\t},\n\t\t//验证信息提示\n\t\tvalidate( key ){\n\t\t\tlet bool = true;\n\t\t\tif( !this.rules[key].rule.test( this[key])  ){\n\t\t\t\t//提示信息\n\t\t\t\tToast(this.rules[key].msg);\n\t\t\t\tbool = false;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn bool;\n\t\t},\n\t\t//点击登录\n\t\tlogin(){\n\t\t\t\n\t\t\tif( this.code  ==  this.userCode ){\n\t\t\t\t//证明用户输入的短信验证码是正确的\n\t\t\t\t//发送请求\n\t\t\t\thttp.$axios({\n\t\t\t\t\turl:'/api/addUser',\n\t\t\t\t\tmethod:'POST',\n\t\t\t\t\tdata:{\n\t\t\t\t\t\tphone:this.userTel\n\t\t\t\t\t}\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif( !res.success ) return;\n\t\t\t\t\t//登录成功 ==》跳转页面，存储用户信息\n\t\t\t\t\tthis.USER_LOGIN( res.data );\n\t\t\t\t\t//跳转到我的页面中\n\t\t\t\t\tthis.$router.push('/my');\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\nsection{\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n    font-size:0.32rem;\n\tbackground-color:#f5f5f5;\n\t}\r\nsection div{\n\tmargin:0.266666rem 0;\n\twidth: 8.933333rem;\n\theight: 1.173333rem;\n}\nsection input{\n\tbox-sizing: border-box;\n\tpadding:0 0.266666rem;\n\tline-height: 1.173333rem;\n\tbackground-color: #FFFFFF;\n\tborder:1px solid #ccc;\n\tborder-radius: 6px;\n}\n.login-tel{\nmargin-top:0.8rem;\n}\r\n.login-tel input{\n\t\twidth: 8.933333rem;\n\t}\n.login-code{\ndisplay: flex;\n\t}\r\n.login-code input{\n\tflex:1;\n\t}\n.login-code\tbutton{\n\t\tpadding:0 0.533333rem;\n\t\tline-height: 1.173333rem;\n\t\tcolor:#fff;\n\t\tbackground-color: darkgreen;\n\t\tborder:0;\n\t\tborder-radius: 6px;\n\t}\n.login-btn{\n\tline-height: 44px;\n\tcolor:#fff;\n\tfont-size: 0.48rem;\n\ttext-align: center;\n\tbackground-color: darkgreen;\n\tborder-radius: 6px;\n}\n.tab{\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tfont-size:0.373333rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=6244d589&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=6244d589&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6244d589\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","_m","_t","_v","staticRenderFns","staticClass","component","directives","name","rawName","value","userTel","expression","attrs","domProps","on","$event","target","composing","userCode","disabled","sendCode","_s","codeMsg","login","goUserLogin","goRegister","data","rules","rule","msg","codeNum","code","components","Header","Tabbar","methods","http","url","method","phone","setTimeout","clearInterval","validate","Toast","bool"],"sourceRoot":""}