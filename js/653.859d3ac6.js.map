{"version":3,"file":"js/653.859d3ac6.js","mappings":"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","sources":["webpack://vue-oldbook/./src/views/List.vue","webpack://vue-oldbook/src/views/List.vue","webpack://vue-oldbook/./src/views/List.vue?051c","webpack://vue-oldbook/./src/views/List.vue?b35e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list container\"},[(_vm.isShow)?_c('header',[_vm._m(0),_vm._m(1),_vm._m(2)]):_vm._e(),_c('section',[_c('div',{ref:\"left\",staticClass:\"list-l\"},[_c('ul',{staticClass:\"l-item\"},_vm._l((_vm.leftData),function(item,index){return _c('li',{key:index,class:{active:index==_vm.currentIndex},on:{\"click\":function($event){return _vm.goScroll(index)}}},[_vm._v(_vm._s(item.name))])}),0)]),_c('div',{ref:\"right\",staticClass:\"list-r\"},[_c('div',_vm._l((_vm.rightData),function(item,index){return _c('ul',{key:index,staticClass:\"shop-list\"},_vm._l((item),function(k,i){return _c('li',{key:i},[_c('h2',[_vm._v(_vm._s(k.name))]),_c('ul',{staticClass:\"r-content\"},_vm._l((k.list),function(j,idx){return _c('li',{key:idx},[_c('img',{attrs:{\"src\":j.imgUrl,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(j.name))])])}),0)])}),0)}),0)])]),_c('Tabbar')],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"returns\"},[_c('i',{staticClass:\"iconfont icon-fanhui\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search\"},[_c('i',{staticClass:\"iconfont icon-31sousuo\"}),_c('span',[_vm._v(\"搜你喜欢...\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"go-home\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/home.png\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"list container\">\r\n\t\t<header v-if=\"isShow\">\r\n\t\t\t<div class=\"returns\">\r\n\t\t\t\t<i class=\"iconfont icon-fanhui\"></i>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"search\">\r\n\t\t\t\t<i class=\"iconfont icon-31sousuo\"></i>\r\n\t\t\t\t<span>搜你喜欢...</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"go-home\">\r\n\t\t\t\t<img src=\"@/assets/images/home.png\" alt=\"\"/>\r\n\t\t\t</div>\r\n\t\t</header>\r\n<section>\n\t\t\t<div class='list-l' ref='left'>\n\t\t\t\t<ul class='l-item'>\n\t\t\t\t\t<li \n\t\t\t\t\t\tv-for='(item,index) in leftData'\n\t\t\t\t\t\t:key='index'\n\t\t\t\t\t\t:class='{active:index==currentIndex}'\n\t\t\t\t\t\t@click=\"goScroll(index)\"\n\t\t\t\t\t>{{item.name}}</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class='list-r' ref='right'>\n\t\t\t\t<div>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tv-for='(item,index) in rightData'\n\t\t\t\t\t\t:key='index'\n\t\t\t\t\t\tclass='shop-list'\n\t\t\t\t\t>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tv-for=\"(k,i) in item\"\n\t\t\t\t\t\t\t:key='i'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h2>{{k.name}}</h2>\n\t\t\t\t\t\t\t<ul class='r-content'>\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tv-for='(j,idx) in k.list'\n\t\t\t\t\t\t\t\t\t:key='idx'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img :src=\"j.imgUrl\" alt=\"\">\n\t\t\t\t\t\t\t\t\t<span>{{j.name}}</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t</section>\r\n\t\t<Tabbar></Tabbar>\r\n\t</div>\n</template>\n\n<script>\nimport BetterScroll from 'better-scroll'\nimport Tabbar from '@/components/common/Tabbar.vue'\nimport http from '@/common/api/request.js'\nexport default {\n  name: \"List\",\n  data () {\n\t  return {\n        isShow:true,\n\t\tleftData:[],//左侧数据\n\t\trightData:[],//右侧数据\n\t\trightBScroll:'',//右侧滑动BScroll\n\t\tallHeight:[],//承载右侧每一块的高度值\n\t\tscrollY:''//右侧滚动距离\n\t  }\n  },\n  computed:{\n\t\tcurrentIndex(){\n\t\t\treturn this.allHeight.findIndex((item, index)=>{\n\t\t\t\treturn this.scrollY >= item && this.scrollY < this.allHeight[index+1]\n\t\t\t})\n\t\t}\n  },\n  components:{\n  \tTabbar\n  },\n  async created(){\n\t  \n\tlet res = await http.$axios({\n\t\turl:'/api/goods/list',\n\t})\n\t\n\tlet leftArr = [];\n\tlet rightArr = [];\n\t\n\tres.forEach(v=>{\n\t\tleftArr.push({\n\t\t\tid:v.id,\n\t\t\tname:v.name\n\t\t})\n\t\trightArr.push( v.data );\n\t})\n\tthis.leftData = leftArr;\n\tthis.rightData = rightArr;\n\t\n\tthis.$nextTick(()=>{\n\t\t//左侧滑动\n\t\tnew BetterScroll(this.$refs.left,{\n\t\t\tclick:true,\n            bounce: false\n\t\t});\n\t\t//右侧滑动\n\t\tthis.rightBScroll = new BetterScroll(this.$refs.right,{\n\t\t\tclick:true,\n\t\t\tprobeType:3,\n            bounce: false,\n\t\t});\n\t\t//统计右侧所有板块高度值，并且放入数组中\n\t\tlet height = 0;\n\t\tthis.allHeight.push(height);\n\t\t//获取右侧每一块高度\n\t\tlet uls = this.$refs.right.getElementsByClassName('shop-list');\n\t\t//把dom对象转换成功真正的数组\n\t\tArray.from(uls).forEach(v=>{\n\t\t\theight += v.clientHeight\n\t\t\tthis.allHeight.push( height )\n\t\t})\n\t\t//得到右侧滚动的值\n\t\tthis.rightBScroll.on('scroll',(pos)=>{\n\t\t\tthis.scrollY = Math.abs( pos.y );\n            if(   Math.abs( pos.y ) >= 50  ){\n                this.isShow = false;\n            }else{\n                this.isShow = true;\n            }\n\t\t})\n\t\t\n\t})\n  },\n  methods:{\n\t  goScroll( index ){\n\t\tthis.rightBScroll.scrollTo(0,-this.allHeight[index],300);\n\t  }\n  }\n};\n</script>\n\n<style scoped>\r\n.list{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\toverflow: hidden;\r\n}\r\nheader{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\theight: 1.173333rem;\r\n\tbackground-color: darkgreen;\r\n}\r\n.returns{\r\n\tline-height: 1.173333rem;\r\n\tpadding:0 0.533333rem;\r\n}\r\n.returns i{\r\n\tcolor: #fff;\r\n\tfont-size:0.693333rem;\r\n}\r\n.search{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tflex: 1;\r\n\tpadding:0.16rem 0.266666rem;\r\n\tbackground-color: #FFFFFF;\r\n\tborder-radius: 0.64rem;\r\n}\r\n.search i{\r\n\tpadding-right: 0.16rem;\r\n\tcolor: #666;\r\n\tfont-size:0.48rem;\r\n}\r\n.search span{\r\n\tcolor: #666;\r\n\tfont-size:0.373333rem;\r\n}\r\n.go-home{\r\n\tpadding: 0 0.266666rem;\r\n\tline-height: 1.173333rem;\r\n}\r\n.go-home img{\r\n\twidth: 0.48rem;\r\n\theight: 0.48rem;\r\n}\r\nsection{\r\n\tdisplay: flex;\n\tflex:1;\n\toverflow:hidden;\r\n\theight: 100vh;\n}\r\n.list-l{\r\n\twidth: 2.48rem;\r\n\tbackground-color: #fff;\r\n\toverflow: hidden;\r\n\tborder-right: 1px solid #ccc;\r\n}\r\n.l-item{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.l-item li{\r\n\twidth: 100%;\r\n\tpadding:0.08rem 0;\r\n\tmargin:0.533333rem 0;\r\n\ttext-align: center;\r\n\tfont-size:0.373333rem;\r\n}\r\n.active{\r\n\tcolor:darkgreen ;\r\n\tborder-left: 5px solid darkgreen;\r\n}\r\n.list-r{\r\n\tflex: 1;\r\n\toverflow: auto;\r\n}\r\n.shop-list{\r\n\ttext-align: center;\r\n}\r\n.shop-list h2{\r\n\tpadding:0.533333rem 0;\r\n\tfont-size:0.64rem;\r\n\tfont-weight: 400;\r\n}\r\n.r-content{\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n.r-content li{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 33.33%;\r\n\tpadding:0.266666rem 0;\r\n}\r\n.r-content li img{\r\n\twidth: 1.413333rem;\r\n\theight: 1.413333rem;\r\n}\r\n.r-content span{\r\n\tfont-size:0.426666rem;\r\n}\r\n::v-deep.tabbar{\r\n\tborder-top: 1px solid #CCCCCC;\r\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=fb35b866&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=fb35b866&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb35b866\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","isShow","_m","_e","ref","_l","leftData","item","index","key","class","active","currentIndex","on","$event","goScroll","_v","_s","name","rightData","k","i","list","j","idx","attrs","imgUrl","staticRenderFns","require","data","rightBScroll","allHeight","scrollY","computed","components","Tabbar","url","res","leftArr","id","rightArr","click","bounce","probeType","Array","height","methods","component"],"sourceRoot":""}