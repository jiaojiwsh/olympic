"use strict";(self["webpackChunkvue_oldbook"]=self["webpackChunkvue_oldbook"]||[]).push([[305],{9305:function(t,s,a){a.r(s),a.d(s,{default:function(){return p}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order container"},[s("header",[s("i",{staticClass:"iconfont icon-fanhui",on:{click:function(s){return t.$router.back()}}}),s("span",[t._v("提交订单")]),s("i",{staticClass:"iconfont icon-kefu"})]),s("section",[s("div",{staticClass:"address",on:{click:t.goAddress}},[s("h3",{staticClass:"address-title"},[t._v("收货信息")]),s("div",{staticClass:"address-content"},[s("div",[s("span",[t._v(t._s(t.path.name))]),s("span",[t._v(t._s(t.path.tel))])]),s("div",[s("span",[t._v(t._s(t.path.province))]),s("span",[t._v(t._s(t.path.city))]),s("span",[t._v(t._s(t.path.county))]),s("span",[t._v(t._s(t.path.addressDetail))])])])]),s("div",{staticClass:"payment"},[s("div",{staticClass:"payment-title"},[t._v("支付方式：")]),s("van-radio-group",{model:{value:t.checkedPayment,callback:function(s){t.checkedPayment=s},expression:"checkedPayment"}},[s("van-radio",{attrs:{name:"wx"}},[t._v("微信支付")]),s("van-radio",{attrs:{name:"ali"}},[t._v("支付宝支付")])],1)],1),s("div",{staticClass:"goods"},[s("ul",t._l(t.goodsList,(function(a,e){return s("li",{key:e},[s("div",[s("img",{attrs:{src:a.goods_imgUrl,alt:""}})]),s("div",{staticClass:"goods-content"},[s("h4",[t._v(t._s(a.goods_name))]),s("div",{staticClass:"goods-price"},[s("span",[t._v("￥"+t._s(a.goods_price))]),s("span",[t._v("x"+t._s(a.goods_num))])])])])})),0)])]),s("footer",[s("div",{staticClass:"order-total"},[s("span",[t._v("共")]),s("b",[t._v(t._s(t.total.num))]),s("span",[t._v("件,")]),s("span",[t._v("总金额：")]),s("em",[t._v("￥"+t._s(t.total.price))])]),s("div",{staticClass:"order-topay",on:{click:t.goPayment}},[t._v("提交订单")])])])},i=[],o=(a(7658),a(629)),d=a(9324),n=a(765),r={data(){return{checkedPayment:"wx",path:{},item:[]}},computed:{...(0,o.rn)({list:t=>t.cart.list}),...(0,o.Se)(["total","defaultPath"]),goodsList(){return this.item.map((t=>(console.log(t),this.list.find((s=>s.id==t)))))}},created(){this.item=JSON.parse(this.$route.query.detail),d.Z.$axios({url:"/api/selectAddress",method:"post",headers:{token:!0}}).then((t=>{this.initData(t.data),this.defaultPath.length?this.path=this.defaultPath[0]:this.path=t.data[0]})),this.goodsList=JSON.parse(this.$route.query.goodsList),this.selectAddress()},activated(){n.Z.$on("selectPath",function(t){this.path=JSON.parse(t)}.bind(this)),this.item=JSON.parse(this.$route.query.detail),this.goodsList=JSON.parse(this.$route.query.goodsList),this.selectOrder()},methods:{...(0,o.OI)(["initData"]),selectAddress(){d.Z.$axios({url:"/api/selectAddress",method:"post",headers:{token:!0}}).then((t=>{this.initData(t.data),this.defaultPath.length?this.path=this.defaultPath[0]:this.path=t.data[0]}))},selectOrder(){d.Z.$axios({url:"/api/selectOrder",method:"post",headers:{token:!0},data:{orderId:this.order_id}}).then((t=>{this.initOrder(t.data),this.total={price:t.data[0].goods_price,num:t.data[0].goods_num}}))},goPayment(){this.$router.push({path:"/pay"})},goAddress(){this.$router.push({path:"/address",query:{type:"select"}})}}},h=r,c=a(1001),l=(0,c.Z)(h,e,i,!1,null,"667ecff5",null),p=l.exports},765:function(t,s,a){var e=a(144);s["Z"]=new e.ZP}}]);
//# sourceMappingURL=305.516b6370.js.map